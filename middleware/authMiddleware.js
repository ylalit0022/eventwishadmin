const jwt = require('jsonwebtoken'); const verifyApiKey = (req, res, next) => { try { const apiKey = req.header('x-api-key'); if (!apiKey) { return res.status(401).json({ success: false, message: 'No API key provided' }); } const validApiKey = process.env.API_KEY; if (apiKey !== validApiKey) { return res.status(401).json({ success: false, message: 'API key is not valid' }); } next(); } catch (error) { return res.status(500).json({ success: false, message: 'Server error' }); } }; module.exports = { verifyApiKey };
